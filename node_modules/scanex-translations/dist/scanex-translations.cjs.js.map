{"version":3,"file":"scanex-translations.cjs.js","sources":["../node_modules/scanex-object-extensions/index.js","../index.js"],"sourcesContent":["const copy = source => {\r\n    switch(typeof source) {\r\n        case 'number':\r\n        case 'string':\r\n        case 'function':\r\n        default:\r\n            return source;\r\n        case 'object':\r\n            if (source === null) {\r\n                return null;\r\n            }\r\n            else if (Array.isArray(source)) {\r\n                return source.map (item => copy (item));\r\n            }\r\n            else if (source instanceof Date) {\r\n                return source;\r\n            }\r\n            else {                \r\n                return Object.keys(source).reduce((a, k) => {                    \r\n                    a[k] = copy(source[k]);\r\n                    return a;\r\n                }, {});\r\n            }\r\n    }\r\n};\r\n\r\nconst extend = (target, source) => {\r\n    if (target === source) {\r\n\t    return target;\r\n    }\r\n    else {\r\n        return Object.keys(source).reduce((a, k) => {\r\n            let value = source[k];\r\n            if(typeof a[k] === 'object' && (k in a)){\r\n                a[k] = extend (a[k], value);\r\n            }\r\n            else {\r\n               a[k] = copy(value);\r\n            }\r\n            return a;\r\n        }, copy (target));\r\n    }    \r\n};\r\n\r\n\r\nexport {copy, extend};","import { extend } from 'scanex-object-extensions';\r\n\r\nconst DEFAULT_LANGUAGE = 'rus';\r\n\r\nclass Translations {\r\n    constructor(){\r\n        this._hash = {};\r\n    }    \r\n    setLanguage (lang) {\r\n        this._language = lang;\r\n    }\r\n    getLanguage () {\r\n        return window.language || this._language || DEFAULT_LANGUAGE;\r\n    }\r\n    addText (lang, tran) {        \r\n        this._hash[lang]= extend(this._hash[lang] || {}, tran);\r\n        return this;\r\n    }\r\n    getText (key) {\r\n        if(key && typeof key === 'string') {\r\n            let locale = this._hash[this.getLanguage()];\r\n            if (locale) {\r\n                return key\r\n                    .split('.')\r\n                    .reduce((a, k) => a[k], locale);\r\n            }         \r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nwindow.Scanex = window.Scanex || {};\r\nwindow.Scanex.Translations = window.Scanex.Translations || {};\r\nwindow.Scanex.translations = window.Scanex.translations || new Translations();\r\n\r\nexport default window.Scanex.translations;"],"names":["copy","source","Array","isArray","map","item","Date","Object","keys","reduce","a","k","extend","target","value","babelHelpers.typeof","DEFAULT_LANGUAGE","Translations","_hash","lang","_language","window","language","tran","key","locale","getLanguage","split","Scanex","translations"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAMA,OAAO,SAAPA,IAAO,SAAU;mBACLC,MAAd,yCAAcA,MAAd;aACS,QAAL;aACK,QAAL;aACK,UAAL;;mBAEWA,MAAP;aACC,QAAL;gBACQA,WAAW,IAAf,EAAqB;uBACV,IAAP;aADJ,MAGK,IAAIC,MAAMC,OAAN,CAAcF,MAAd,CAAJ,EAA2B;uBACrBA,OAAOG,GAAP,CAAY;2BAAQJ,KAAMK,IAAN,CAAR;iBAAZ,CAAP;aADC,MAGA,IAAIJ,kBAAkBK,IAAtB,EAA4B;uBACtBL,MAAP;aADC,MAGA;uBACMM,OAAOC,IAAP,CAAYP,MAAZ,EAAoBQ,MAApB,CAA2B,UAACC,CAAD,EAAIC,CAAJ,EAAU;sBACtCA,CAAF,IAAOX,KAAKC,OAAOU,CAAP,CAAL,CAAP;2BACOD,CAAP;iBAFG,EAGJ,EAHI,CAAP;;;CAlBhB;;AA0BA,IAAME,SAAS,SAATA,MAAS,CAACC,MAAD,EAASZ,MAAT,EAAoB;QAC3BY,WAAWZ,MAAf,EAAuB;eACfY,MAAP;KADD,MAGK;eACMN,OAAOC,IAAP,CAAYP,MAAZ,EAAoBQ,MAApB,CAA2B,UAACC,CAAD,EAAIC,CAAJ,EAAU;gBACpCG,QAAQb,OAAOU,CAAP,CAAZ;gBACGI,QAAOL,EAAEC,CAAF,CAAP,MAAgB,QAAhB,IAA6BA,KAAKD,CAArC,EAAwC;kBAClCC,CAAF,IAAOC,OAAQF,EAAEC,CAAF,CAAR,EAAcG,KAAd,CAAP;aADJ,MAGK;kBACAH,CAAF,IAAOX,KAAKc,KAAL,CAAP;;mBAEIJ,CAAP;SARG,EASJV,KAAMa,MAAN,CATI,CAAP;;CALR;;ACxBA,IAAMG,mBAAmB,KAAzB;;IAEMC;4BACW;;;aACJC,KAAL,GAAa,EAAb;;;;;oCAESC,MAAM;iBACVC,SAAL,GAAiBD,IAAjB;;;;sCAEW;mBACJE,OAAOC,QAAP,IAAmB,KAAKF,SAAxB,IAAqCJ,gBAA5C;;;;gCAEKG,MAAMI,MAAM;iBACZL,KAAL,CAAWC,IAAX,IAAkBP,OAAO,KAAKM,KAAL,CAAWC,IAAX,KAAoB,EAA3B,EAA+BI,IAA/B,CAAlB;mBACO,IAAP;;;;gCAEKC,KAAK;gBACPA,OAAO,OAAOA,GAAP,KAAe,QAAzB,EAAmC;oBAC3BC,SAAS,KAAKP,KAAL,CAAW,KAAKQ,WAAL,EAAX,CAAb;oBACID,MAAJ,EAAY;2BACDD,IACFG,KADE,CACI,GADJ,EAEFlB,MAFE,CAEK,UAACC,CAAD,EAAIC,CAAJ;+BAAUD,EAAEC,CAAF,CAAV;qBAFL,EAEqBc,MAFrB,CAAP;;;mBAKD,IAAP;;;;;;AAIRJ,OAAOO,MAAP,GAAgBP,OAAOO,MAAP,IAAiB,EAAjC;AACAP,OAAOO,MAAP,CAAcX,YAAd,GAA6BI,OAAOO,MAAP,CAAcX,YAAd,IAA8B,EAA3D;AACAI,OAAOO,MAAP,CAAcC,YAAd,GAA6BR,OAAOO,MAAP,CAAcC,YAAd,IAA8B,IAAIZ,YAAJ,EAA3D;;AAEA,YAAeI,OAAOO,MAAP,CAAcC,YAA7B;;;;"}